<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PingClaude — UI Prototype</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
    background: #1a1a2e;
    color: #e0e0e0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 40px;
  }
  h1 { font-size: 18px; font-weight: 600; margin-bottom: 20px; color: #fff; }
  .hint { font-size: 12px; color: #888; margin-bottom: 30px; }

  /* Menu Bar Simulation */
  .menu-bar {
    background: #2d2d3f;
    height: 28px;
    width: 600px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 0 12px;
    margin-bottom: 8px;
    position: relative;
  }
  .tray-icon {
    cursor: pointer;
    font-size: 16px;
    padding: 2px 6px;
    border-radius: 4px;
    user-select: none;
  }
  .tray-icon:hover { background: rgba(255,255,255,0.1); }

  /* Dropdown Menu */
  .dropdown {
    display: none;
    position: absolute;
    top: 32px;
    right: 8px;
    background: #2d2d3f;
    border: 1px solid #444;
    border-radius: 8px;
    width: 280px;
    padding: 6px 0;
    box-shadow: 0 8px 30px rgba(0,0,0,0.5);
    z-index: 100;
  }
  .dropdown.show { display: block; }
  .menu-item {
    padding: 6px 16px;
    font-size: 13px;
    cursor: default;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .menu-item.disabled { color: #777; }
  .menu-item.clickable { cursor: pointer; }
  .menu-item.clickable:hover { background: #4a6cf7; color: #fff; border-radius: 4px; }
  .menu-sep { height: 1px; background: #444; margin: 4px 8px; }
  .shortcut { color: #888; font-size: 11px; }
  .menu-item.clickable:hover .shortcut { color: rgba(255,255,255,0.7); }
  .checkbox { margin-right: 6px; }

  /* Panels */
  .panels { display: flex; gap: 24px; flex-wrap: wrap; justify-content: center; margin-top: 30px; }
  .panel {
    background: #2d2d3f;
    border: 1px solid #444;
    border-radius: 10px;
    width: 520px;
    display: none;
    overflow: hidden;
  }
  .panel.show { display: block; }
  .panel-header {
    background: #353550;
    padding: 10px 16px;
    font-size: 14px;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #444;
  }
  .panel-body { padding: 16px; }

  /* Settings Form */
  .form-group { margin-bottom: 14px; }
  .form-group label { display: block; font-size: 12px; color: #aaa; margin-bottom: 4px; font-weight: 500; }
  .form-group input[type="text"],
  .form-group select {
    width: 100%;
    padding: 6px 10px;
    background: #1a1a2e;
    border: 1px solid #555;
    border-radius: 6px;
    color: #e0e0e0;
    font-size: 13px;
  }
  .form-row { display: flex; gap: 10px; align-items: center; }
  .form-row input[type="text"] { flex: 1; }
  .btn {
    padding: 5px 14px;
    background: #4a6cf7;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
  }
  .btn:hover { background: #5b7cf8; }
  .btn-sm { padding: 3px 10px; font-size: 11px; }
  .btn-outline {
    background: transparent;
    border: 1px solid #555;
    color: #ccc;
  }
  .btn-outline:hover { background: rgba(255,255,255,0.05); border-color: #888; }
  .section-label { font-size: 13px; font-weight: 600; color: #ccc; margin-bottom: 8px; margin-top: 6px; }
  .radio-group { display: flex; gap: 16px; margin: 6px 0; }
  .radio-group label { font-size: 13px; color: #ccc; cursor: pointer; display: flex; align-items: center; gap: 4px; }
  .time-window-fields { margin-left: 12px; margin-top: 8px; padding: 10px; background: #1a1a2e; border-radius: 6px; }
  .time-window-fields.hidden { display: none; }

  /* Ping History */
  .history-split { display: flex; height: 360px; }
  .history-list {
    width: 240px;
    border-right: 1px solid #444;
    overflow-y: auto;
  }
  .history-detail {
    flex: 1;
    overflow-y: auto;
    padding: 14px;
  }
  .history-row {
    padding: 8px 12px;
    cursor: pointer;
    border-bottom: 1px solid #333;
    display: flex;
    gap: 8px;
    align-items: flex-start;
  }
  .history-row:hover { background: rgba(74,108,247,0.15); }
  .history-row.selected { background: rgba(74,108,247,0.25); }
  .history-row.system-event { opacity: 0.6; }
  .status-icon { font-size: 14px; flex-shrink: 0; }
  .status-icon.success { color: #4caf50; }
  .status-icon.error { color: #ff9800; }
  .status-icon.system { color: #4a6cf7; }
  .row-info { font-size: 12px; }
  .row-time { font-weight: 500; }
  .row-desc { color: #888; font-size: 11px; }
  .detail-field { margin-bottom: 10px; }
  .detail-label { font-size: 11px; color: #888; font-weight: 600; text-transform: uppercase; }
  .detail-value { font-size: 13px; font-family: "SF Mono", monospace; margin-top: 2px; }
  .response-box {
    background: #1a1a2e;
    border-radius: 6px;
    padding: 10px;
    font-size: 12px;
    font-family: "SF Mono", monospace;
    white-space: pre-wrap;
    max-height: 140px;
    overflow-y: auto;
  }
  .placeholder-text { color: #666; text-align: center; margin-top: 120px; font-size: 13px; }

  /* Status animation */
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  .spinning { display: inline-block; animation: spin 1s linear infinite; }

  /* Nav tabs */
  .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
  .nav-tab {
    padding: 6px 16px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    background: #2d2d3f;
    border: 1px solid #444;
    color: #aaa;
  }
  .nav-tab.active { background: #4a6cf7; color: #fff; border-color: #4a6cf7; }
</style>
</head>
<body>

<h1>PingClaude — Interactive Prototype</h1>
<p class="hint">Click the menu bar icon to open the dropdown. Use tabs below to view panels.</p>

<!-- Simulated Menu Bar -->
<div class="menu-bar">
  <span class="tray-icon" id="trayIcon" onclick="toggleDropdown()">&#x1F550;</span>
  <div class="dropdown" id="dropdown">
    <div class="menu-item disabled" id="menuStatus">Status: Idle</div>
    <div class="menu-item disabled" id="menuLastPing">Last ping: Never</div>
    <div class="menu-item disabled" id="menuNextPing">Next ping: 8:00 AM</div>
    <div class="menu-sep"></div>
    <div class="menu-item clickable" onclick="doPingNow()">
      <span>&#9654; Ping Now</span><span class="shortcut">&#8984;P</span>
    </div>
    <div class="menu-sep"></div>
    <div class="menu-item clickable" onclick="toggleSchedule()">
      <span><span class="checkbox" id="schedCheck">&#9744;</span>Enable Schedule</span>
    </div>
    <div class="menu-sep"></div>
    <div class="menu-item clickable" onclick="showPanel('history')">
      <span>Ping History...</span><span class="shortcut">&#8984;H</span>
    </div>
    <div class="menu-item clickable" onclick="showPanel('settings')">
      <span>Settings...</span><span class="shortcut">&#8984;,</span>
    </div>
    <div class="menu-sep"></div>
    <div class="menu-item clickable" onclick="alert('Quit clicked')">
      <span>Quit PingClaude</span><span class="shortcut">&#8984;Q</span>
    </div>
  </div>
</div>

<!-- Panel navigation -->
<div class="nav-tabs">
  <div class="nav-tab" onclick="showPanel('none')">Hide Panels</div>
  <div class="nav-tab" id="tabSettings" onclick="showPanel('settings')">Settings</div>
  <div class="nav-tab" id="tabHistory" onclick="showPanel('history')">Ping History</div>
</div>

<div class="panels">
  <!-- Settings Panel -->
  <div class="panel" id="panelSettings">
    <div class="panel-header">
      <span>PingClaude Settings</span>
    </div>
    <div class="panel-body">
      <div class="section-label">Claude CLI</div>
      <div class="form-group">
        <label>Path</label>
        <div class="form-row">
          <input type="text" value="/usr/local/bin/claude">
          <button class="btn btn-sm btn-outline">Browse</button>
        </div>
      </div>

      <div class="section-label">Ping Command</div>
      <div class="form-group">
        <label>Prompt</label>
        <input type="text" value="hi">
      </div>
      <div class="form-group">
        <label>Model</label>
        <select>
          <option selected>haiku</option>
          <option>sonnet</option>
          <option>opus</option>
        </select>
      </div>

      <div class="section-label">Schedule</div>
      <div class="form-group">
        <label style="display:inline-flex;align-items:center;gap:6px;cursor:pointer">
          <input type="checkbox" id="settingsSchedCheckbox"> Enable Scheduled Pings
        </label>
      </div>
      <div class="form-group">
        <label>Mode</label>
        <div class="radio-group">
          <label><input type="radio" name="mode" value="allDay" checked onchange="updateMode()"> Run all day</label>
          <label><input type="radio" name="mode" value="timeWindow" onchange="updateMode()"> Time window</label>
        </div>
      </div>
      <div class="form-group">
        <label>Interval</label>
        <select>
          <option>15 minutes</option>
          <option>30 minutes</option>
          <option selected>1 hour</option>
          <option>2 hours</option>
          <option>4 hours</option>
        </select>
      </div>
      <div class="time-window-fields hidden" id="timeWindowFields">
        <div class="form-group">
          <label>Start Time</label>
          <select><option>5:00 AM</option><option selected>6:00 AM</option><option>7:00 AM</option><option>8:00 AM</option></select>
        </div>
        <div class="form-group">
          <label>End Time</label>
          <select><option>8:00 AM</option><option>9:00 AM</option><option selected>10:00 AM</option><option>11:00 AM</option><option>12:00 PM</option></select>
        </div>
      </div>

      <div class="section-label">Storage</div>
      <div class="form-group">
        <label>Log folder</label>
        <div class="form-row">
          <input type="text" value="~/Library/Logs/PingClaude">
          <button class="btn btn-sm btn-outline">Browse</button>
        </div>
      </div>
      <div class="form-group">
        <label>Max size</label>
        <select>
          <option>5 MB</option>
          <option selected>10 MB</option>
          <option>25 MB</option>
          <option>50 MB</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Ping History Panel -->
  <div class="panel" id="panelHistory" style="width:700px">
    <div class="panel-header">
      <span>Ping History</span>
      <button class="btn btn-sm btn-outline">Clear</button>
    </div>
    <div class="history-split">
      <div class="history-list" id="historyList">
        <div class="history-row selected" onclick="selectPing(0)">
          <span class="status-icon success">&#x2713;</span>
          <div class="row-info">
            <div class="row-time">7:00:01 AM</div>
            <div class="row-desc">OK</div>
          </div>
        </div>
        <div class="history-row" onclick="selectPing(1)">
          <span class="status-icon success">&#x2713;</span>
          <div class="row-info">
            <div class="row-time">6:00:02 AM</div>
            <div class="row-desc">OK</div>
          </div>
        </div>
        <div class="history-row" onclick="selectPing(2)">
          <span class="status-icon error">&#x26A0;</span>
          <div class="row-info">
            <div class="row-time">5:00:01 AM</div>
            <div class="row-desc">Connection timeout</div>
          </div>
        </div>
        <div class="history-row system-event" onclick="selectPing(3)">
          <span class="status-icon system">&#x2139;</span>
          <div class="row-info">
            <div class="row-time">4:55:00 AM</div>
            <div class="row-desc">System wake</div>
          </div>
        </div>
        <div class="history-row system-event" onclick="selectPing(4)">
          <span class="status-icon system">&#x2139;</span>
          <div class="row-info">
            <div class="row-time">11:30:00 PM</div>
            <div class="row-desc">System sleep</div>
          </div>
        </div>
      </div>
      <div class="history-detail" id="historyDetail"></div>
    </div>
  </div>
</div>

<script>
var pingData = [
  { time: "7:00:01 AM", date: "Feb 7, 2026 7:00:01 AM", status: "success", duration: "3.2s",
    command: "claude -p \"hi\" --model haiku --max-turns 1",
    response: "Hello! How can I help you today?" },
  { time: "6:00:02 AM", date: "Feb 7, 2026 6:00:02 AM", status: "success", duration: "2.8s",
    command: "claude -p \"hi\" --model haiku --max-turns 1",
    response: "Hi there! What can I do for you?" },
  { time: "5:00:01 AM", date: "Feb 7, 2026 5:00:01 AM", status: "error", duration: "30.0s",
    command: "claude -p \"hi\" --model haiku --max-turns 1",
    response: "", error: "Connection timeout after 30s" },
  { time: "4:55:00 AM", date: "Feb 7, 2026 4:55:00 AM", status: "system",
    event: "System wake" },
  { time: "11:30:00 PM", date: "Feb 6, 2026 11:30:00 PM", status: "system",
    event: "System sleep" }
];

var scheduleEnabled = false;

function toggleDropdown() {
  document.getElementById("dropdown").classList.toggle("show");
}
document.addEventListener("click", function(e) {
  if (!e.target.closest(".menu-bar")) {
    document.getElementById("dropdown").classList.remove("show");
  }
});

function doPingNow() {
  document.getElementById("dropdown").classList.remove("show");
  var icon = document.getElementById("trayIcon");
  var status = document.getElementById("menuStatus");

  icon.textContent = "\u27F3";
  icon.classList.add("spinning");
  status.textContent = "Status: Pinging...";

  setTimeout(function() {
    icon.classList.remove("spinning");
    icon.textContent = "\u2713";
    status.textContent = "Status: Success";
    var now = new Date();
    document.getElementById("menuLastPing").textContent = "Last ping: " + now.toLocaleTimeString("en-US", {hour:"numeric",minute:"2-digit"});

    setTimeout(function() {
      icon.textContent = "\uD83D\uDD50";
      status.textContent = "Status: Idle";
    }, 5000);
  }, 2000);
}

function toggleSchedule() {
  scheduleEnabled = !scheduleEnabled;
  document.getElementById("schedCheck").textContent = scheduleEnabled ? "\u2611" : "\u2610";
}

function showPanel(name) {
  var panels = document.querySelectorAll(".panel");
  for (var i = 0; i < panels.length; i++) panels[i].classList.remove("show");
  var tabs = document.querySelectorAll(".nav-tab");
  for (var i = 0; i < tabs.length; i++) tabs[i].classList.remove("active");
  if (name === "settings") {
    document.getElementById("panelSettings").classList.add("show");
    document.getElementById("tabSettings").classList.add("active");
  } else if (name === "history") {
    document.getElementById("panelHistory").classList.add("show");
    document.getElementById("tabHistory").classList.add("active");
    selectPing(0);
  }
  document.getElementById("dropdown").classList.remove("show");
}

function updateMode() {
  var mode = document.querySelector("input[name='mode']:checked").value;
  var fields = document.getElementById("timeWindowFields");
  if (mode === "timeWindow") {
    fields.classList.remove("hidden");
  } else {
    fields.classList.add("hidden");
  }
}

function selectPing(index) {
  var rows = document.querySelectorAll(".history-row");
  for (var i = 0; i < rows.length; i++) rows[i].classList.remove("selected");
  rows[index].classList.add("selected");

  var data = pingData[index];
  var detail = document.getElementById("historyDetail");

  // Clear existing content
  while (detail.firstChild) detail.removeChild(detail.firstChild);

  if (data.status === "system") {
    appendDetailField(detail, "EVENT", "System Event", true);
    appendDetailField(detail, "TIME", data.date);
    appendDetailField(detail, "EVENT", data.event);
    return;
  }

  appendDetailField(detail, "PING", "Ping at " + data.date, true);
  appendDetailField(detail, "STATUS", data.status === "success" ? "Success" : "Error");
  appendDetailField(detail, "DURATION", data.duration);
  appendDetailField(detail, "COMMAND", data.command);

  if (data.error) {
    var errorField = document.createElement("div");
    errorField.className = "detail-field";
    var errorLabel = document.createElement("div");
    errorLabel.className = "detail-label";
    errorLabel.textContent = "ERROR";
    var errorValue = document.createElement("div");
    errorValue.className = "detail-value";
    errorValue.style.color = "#ff9800";
    errorValue.textContent = data.error;
    errorField.appendChild(errorLabel);
    errorField.appendChild(errorValue);
    detail.appendChild(errorField);
  }

  if (data.response) {
    var respField = document.createElement("div");
    respField.className = "detail-field";
    var respLabel = document.createElement("div");
    respLabel.className = "detail-label";
    respLabel.textContent = "RESPONSE";
    var respBox = document.createElement("div");
    respBox.className = "response-box";
    respBox.textContent = data.response;
    respField.appendChild(respLabel);
    respField.appendChild(respBox);
    detail.appendChild(respField);
  }
}

function appendDetailField(parent, label, value, isHeader) {
  var field = document.createElement("div");
  field.className = "detail-field";
  var labelEl = document.createElement("div");
  labelEl.className = "detail-label";
  labelEl.textContent = label;
  var valueEl = document.createElement("div");
  valueEl.className = "detail-value";
  if (isHeader) {
    valueEl.style.fontSize = "16px";
    valueEl.style.fontWeight = "600";
  }
  valueEl.textContent = value;
  field.appendChild(labelEl);
  field.appendChild(valueEl);
  parent.appendChild(field);
}

// Show history with first item selected on load
selectPing(0);
</script>
</body>
</html>
